<div style="width:100%;height:100%;">
    <div class="mailboxes">
        <div style="margin-bottom: 10px;">
            <button nz-button nzShape="round" nzType="primary" (click)="composeNewMsg(true)">Compose</button>
        </div>
        <div *ngFor="let mbox of mboxes;index as mboxIndex" class="mbox" (click)="setMbox(mboxIndex)"
            [ngClass]="{'mbox-selected': currentMboxIndex === mboxIndex}">
            <div style="float:left;">{{mbox}}</div>
            <div style="float:right;">{{mBoxes[currentMbox].length}}</div>
            <div style="clear:both;"></div>
        </div>
    </div>
    <div *ngIf="!composeMsg" class="messages">
        <div style="text-align: center;font-size:22px;font-weight: 500;margin-bottom:10px;">
            {{currentMbox}}
        </div>
        <div class="message-headers">
            <div *ngIf="mBoxes[currentMbox].length > 0">

            </div>
            <div *ngIf="mBoxes[currentMbox].length === 0">
                <nz-empty></nz-empty>
            </div>

        </div>
        <div class="message-body">

        </div>

    </div>
    <div *ngIf="composeMsg" class="compose">
        <div>
            <nz-input-group nzSearch class="user-search">
                <input type="text" nz-input placeholder="To" [(ngModel)]="newMsg.to"
                    (ngModelChange)="onUserSearchChange($event)" [nzAutocomplete]="autoUserSearch"
                    style="border:1px solid white;" />
            </nz-input-group>
            <nz-autocomplete [nzDataSource]="matchingUsers" #autoUserSearch></nz-autocomplete>
            <ng-template #suffixIconButton>
                <button nz-button nzType="primary" nzSearch style="height:41px;"><i nz-icon
                        nzType="search"></i></button>
            </ng-template>
            <textarea nz-input placeholder="Message Body" [(ngModel)]="newMsg.text"
                [nzAutosize]="{ minRows: 12, maxRows: 12 }" style="margin-bottom: 5px;">
            </textarea>
            <div>
                <button nz-button nzShape="round" nzType="primary" (click)="sendMsg(true)" style="margin-right:10px;">Send</button> 
                <button nz-button nzShape="round" nzType="default" (click)="cancelComposeMsg(true)">Cancel</button>
           </div>
        </div>
    </div>
    <div style="clear:both"></div>

</div>