<div *ngIf="selectedUser$ | async as selectedUser">
    <div class="" style="width:100%;height:44px;margin-bottom:20px;">
        <i [ngClass]="userTypeIconHash[selectedUser.userType]" style="font-size:20px;"
            [ngStyle]="{'color': trainingStatusColorHash[selectedUser.trainingStatus]}" nz-tooltip
            [nzTooltipTitle]=""></i>&nbsp;
        <span style="display:inline-block;margin-left:10px;font-size:18px;font-weight: 300;">{{selectedUser.firstName}}
            {{selectedUser.lastName}}</span>
        &nbsp;&nbsp;&nbsp;
        <!--
            <i nz-icon nzType="delete" [nzTheme]="'twotone'" [nzTwotoneColor]="'red'"
                style="cursor:pointer;font-size:16px;vertical-align: text-top;" nz-tooltip nzTooltipTitle="Delete User"
                nz-popconfirm nzPopconfirmTitle="Delete this user?" (nzOnConfirm)="confirmDelete(selectedUser)"></i>
                -->
        <i nz-icon nzType="edit" [nzTheme]="'twotone'" style="cursor:pointer;font-size:16px;vertical-align: text-top;"
            nz-tooltip nzTooltipTitle="Edit User" nz-popconfirm nzPopconfirmTitle="Delete this user?"
            (nzOnConfirm)="confirmDelete(selectedUser)"></i>
    </div>
    <div style="width:100%;">
        <nz-modal [nzVisible]="showUserTrainingModal" nzTitle="Assign Training To User"
            [nzCancelDisabled]="assignableTrainings.length === 0" (nzOnCancel)="handleCancelUserTraining()"
            [nzOkDisabled]="!selectedTrainingId" (nzOnOk)="handleAssignUserTraining()" style="width:500px;padding:10px;float:left;">
            <div>
                <div style="background-color:white;display:inline-block;width:100%;">
                    <div *ngIf="teamTrainings.length === 0">
                        You have not created any trainings yet!<br> Head over to the <span style="color:blue;">All
                            Trainings</span> page to create your
                        trainings.
                    </div>
                    <div *ngIf="teamTrainings.length > 0 && assignableTrainings.length === 0">
                        You have already assigned all trainings to this user!
                    </div>
                    <div *ngIf="assignableTrainings.length > 0">
                        Select the training you would like to assign to this user.
                    </div>
                    <div *ngFor="let training of assignableTrainings" class="all-training-list-entry"
                        style="padding:10px 20px;width:100%;"
                        [ngClass]="{'selected-training': selectedTrainingId === training._id}"
                        (click)="selectedTrainingId = training._id">
                        <i *ngIf="allTrainingIdHash[training._id].status === 'unlocked'" nz-icon nzType="unlock" [nzTheme]="'twotone'"
                            style="margin-right:10px;display:inline-block;font-size:12px;vertical-align: middle;"
                            [nzTwotoneColor]="'#52c41a'"></i>
                        <i *ngIf="allTrainingIdHash[training._id].status === 'locked'" nz-icon nzType="lock" [nzTheme]="'twotone'"
                            style="margin-right:10px;display:inline-block;font-size:12px;vertical-align: middle;"
                            [nzTwotoneColor]="'red'"></i>

                        <i [ngClass]="allTrainingIdHash[training._id].iconClass"
                            style="display:inline-block;font-size:20px;margin-right:10px;vertical-align: middle;"
                            [ngStyle]="{'color': allTrainingIdHash[training._id].iconColor}">
                        </i>
                        <div style="display:inline-block;font-size:14px;">
                            {{ training.title }}
                        </div>
                    </div>
                </div>
            </div>
        </nz-modal>

        <div style="width:100%;padding:0 10px 10px 10px;float:right;">
            <button nz-button nzType="primary" nzShape="round" (click)="showUserTrainingModal = true"
                style="margin: 20px 0;">
                Assign a Training
            </button>
            <div style="clear:both;margin-bottom:10px;"></div>
            <app-user-trainings mode="admin" logSession="off"></app-user-trainings>
        </div>
    </div>
</div>