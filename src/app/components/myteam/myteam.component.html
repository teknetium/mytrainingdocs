<div style="height:100%;">
    <div class="my-team" style="height:100%;">
        <div class="my-team-header">
            <nz-alert style="width:100%;height:fit-content;" nzType="info" [nzMessage]="myTeamMessage"
                [nzDescription]="myTeamDescriptionTemplate" [nzCloseText]="myTeamPageCloseTemplate" nzShowIcon
                nzCloseable>
            </nz-alert>
            <ng-template #myTeamMessage>
                <div style="margin:20px 0;color:blue;font-size:20px;text-align: center;">
                    About This Page
                </div>
            </ng-template>
            <ng-template #myTeamPageCloseTemplate>
                <i nz-icon nzType="close-circle" [nzTheme]="'twotone'" [nzTwotoneColor]="'red'"
                    style="font-size: 24px;"></i>
            </ng-template>
            <ng-template #myTeamDescriptionTemplate>
                <div>
                    <div style="margin:20px 0;color:blue;font-size:16px;">
                        Tasks
                    </div>
                    <div
                        style="border-bottom: 1px solid #dddddd;margin-bottom:20px;padding-bottom:20px;padding-left:20px;">
                        <ol>
                            <li>
                                &nbsp;&nbsp;Add/Remove team members
                                <div style="padding:10px;">
                                    To add a new team member, click the <span style="color:blue;">Add a team
                                        member</span> button.
                                    This brings up the <span style="color:blue;">Team Member Registration</span> dialog.
                                    <br>
                                    The following information is collected in this dialog:
                                    <div style="width:100%;">
                                        <div style="display:block;width:100%;margin-top:10px;">
                                            <div style="float:left;color:blue;width:15%;">First & Last Name</div>
                                            <div style="display:inline-block;width:85%;">
                                                enough said...
                                            </div>
                                        </div>
                                        <div style="display:block;width:100%;margin-top:10px;">
                                            <div style="float:left;color:blue;width:15%;">Email</div>
                                            <div style="display:inline-block;width:85%;">
                                                The email address where a Registration Completion Request will be sent.
                                            </div>
                                        </div>
                                        <div style="display:block;width:100%;margin-top:10px;">
                                            <div style="float:left;color:blue;width:15%;">Job Title</div>
                                            <div style="display:inline-block;width:85%;">
                                                The job title for this team member.
                                                <br>
                                                <p>
                                                    This job title will be matched against the job titles specified in
                                                    the trainings to automatically assign trainings to matching users.
                                                </p>
                                            </div>
                                        </div>
                                        <div style="display:block;width:100%;margin-top:10px;">
                                            <div style="float:left;color:blue;width:15%;">User Type</div>
                                            <div style="display:inline-block;width:85%;">
                                                This is the type of user. Used to more efficiently manage team
                                                members.<br><br>
                                                <label style="display:block;font-size:18px;">
                                                    <i class="fad fa-user" style="vertical-align: baseline;"></i>
                                                    <span style="margin-left:10px;font-size:14px;">Individual
                                                        Contributor</span>
                                                </label>
                                                <label style="display:block;font-size:18px;">
                                                    <i class="fad fa-user-tie" style="vertical-align: baseline;"></i>
                                                    <span style="margin-left:10px;font-size:14px;">Supervisor</span>

                                                </label>
                                                <label style="display:block;font-size:18px;">
                                                    <i class="fad fa-user-cowboy" style="vertical-align: baseline;"></i>
                                                    <span style="margin-left:10px;font-size:14px;">Volunteer</span>

                                                </label>
                                                <label style="display:block;font-size:18px;">
                                                    <i class="fad fa-user-crown" style="vertical-align: baseline;"></i>
                                                    <span style="margin-left:10px;  font-size:14px;">Customer</span>

                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                &nbsp;&nbsp;Add/Remove trainings for each team member
                            </li>
                            <li>
                                &nbsp;&nbsp;Update team member's profile information
                            </li>
                        </ol>
                    </div>
                </div>
                <div>
                    <div style="margin:20px 0;color:blue;font-size:16px;">
                        General Info
                    </div>
                    <div style="margin-bottom:20px;padding-left:40px;">
                    </div>
                </div>
            </ng-template>
        </div>
        <div *ngIf="myTeam.length === 0" style="text-align:center;margin-top:20px;">
            <span style="font-size:20px;font-weight:200;margin-top: 20px;"> You haven't added any team
                members yet!</span><br>
            <button nz-button nzType="primary" nzSize="small" (click)="addUser()" style="margin-top: 20px;">Add a team
                member</button>
        </div>
        <div *ngIf="myTeam && myTeam.length > 0" style="height:95%;">
            <div class="team-container">
                <div class="direct-report-container">
                    <div>
                        <button nz-button nzType="primary" (click)="addUser()" nzSize="small" style="margin: 20px 0;">
                            Add a team member
                        </button>
                    </div>
                    <div *ngFor="let user of myTeam" class="direct-report-cell">
                        <div class="user-button direct-report" (click)="selectUser(user._id)"
                            [ngClass]="{'user-selected': userIdSelected === user._id}">
                            <i [ngClass]="userTypeIconHash[user.userType]"
                                [ngStyle]="{'color': trainingStatusColorHash[user.trainingStatus]}" nz-tooltip
                                [nzTooltipTitle]=""></i>&nbsp;
                            <span style="display:inline-block">{{ user.firstName }} {{ user.lastName }} </span>&nbsp;
                            <i *ngIf="user.adminUp === true" nz-icon nzType="crown" [nzTheme]="'twotone'"
                                [nzTwotoneColor]="'#6939c9'"
                                style="display:inline-block;font-size:18px;vertical-align:baseline;" nz-tooltip
                                nzTooltipTitle="Admin User"></i>
                            &nbsp;
                            <i *ngIf="user.userStatus === 'pending'" nz-icon nzType="warning" [nzTheme]="'twotone'"
                                [nzTwotoneColor]="'#efb753'"
                                style="display:inline-block;font-size:18px;vertical-align:baseline;" nz-tooltip
                                nzTooltipTitle="User Account Pending"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="my-team-rightside" style="width:77%;">
                <app-teammember></app-teammember>
            </div>
        </div>
        <nz-modal [(nzVisible)]="showNewUserModal" nzTitle="Team Member Registration" (nzOnCancel)="handleCancel()"
            (nzOnOk)="handleAddUser()">
            <div style="padding:20px;color:black;">
                <p style="font-size:16px;">
                    An email will be sent to the team member being registered in order for them to complete the
                    registration
                    process.
                </p>

            </div>
            <div style="z-index: 1000;background-color: white;">
                <input nz-input type="text" placeholder="First Name" ngDefaultControl
                    [(ngModel)]="newTeamMember.firstName" style="margin-bottom:10px;">
                <input nz-input type="text" placeholder="Last Name" ngDefaultControl
                    [(ngModel)]="newTeamMember.lastName" style="margin-bottom:10px;">
                <input nz-input type="text" placeholder="Email" ngDefaultControl [(ngModel)]="newTeamMember.email"
                    style="margin-bottom:20px;">
                <input nz-input type="text" placeholder="Job Title" ngDefaultControl
                    [(ngModel)]="newTeamMember.jobTitle" style="display:inline-block;margin-bottom:20px;"
                    (input)="onInput($event.target?.value)" [nzAutocomplete]="auto">
                <nz-autocomplete nzBackfill #auto>
                    <nz-auto-option *ngFor="let option of options" [nzValue]="option">
                        {{ option }}
                    </nz-auto-option>
                </nz-autocomplete>
                <span style="margin-right:20px;float:left;">User Type</span>
                <nz-radio-group ngDefaultControl [(ngModel)]="newTeamMember.userType" style="margin-bottom:20px;">
                    <label nz-radio nzValue="individualContributor" (click)="newSupervisorSelected(false)"
                        style="display:block;font-size:28px;">
                        <i class="fad fa-user" style="vertical-align: bottom;"></i>
                        <span style="margin-left:10px;font-size:14px;">Individual Contributor</span>
                    </label>
                    <label nz-radio nzValue="supervisor" (click)="newSupervisorSelected(true)"
                        style="display:block;font-size:28px;">
                        <i class="fad fa-user-tie" style="vertical-align: bottom;"></i>
                        <span style="margin-left:10px;font-size:14px;">Supervisor</span>

                    </label>
                    <label nz-radio nzValue="volunteer" (click)="newSupervisorSelected(false)"
                        style="display:block;font-size:28px;">
                        <i class="fad fa-user-cowboy" style="vertical-align: bottom;"></i>
                        <span style="margin-left:10px;font-size:14px;">Volunteer</span>

                    </label>
                    <label nz-radio nzValue="customer" (click)="newSupervisorSelected(false)"
                        style="display:block;font-size:28px;">
                        <i class="fad fa-user-crown" style="vertical-align: bottom;"></i>
                        <span style="margin-left:10px;  font-size:14px;">Customer</span>

                    </label>
                </nz-radio-group>
            </div>
            <div [@supervisorSignupToggle]="isNewSupervisorPanelOpen ? 'open' : 'closed'"
                style="z-index: -1;height:50px;overflow: hidden;padding-left:30px;">
                <label nz-checkbox ngDefaultControl [(ngModel)]="includeNewSupervisorsTeam">Have this supervisor
                    register their team</label>
            </div>
            <label nz-checkbox ngDefaultControl [(ngModel)]="newTeamMember.adminUp" nz-tooltip
                nzTooltipTitle="Give this person the ability to create, update, delete trainings.">Training Admin
                Access</label>
        </nz-modal>
    </div>
</div>