<div style="height:100%;width:100%;padding:30px;position:relative;">
    <i nz-icon nzType="car" nzTheme="twotone"
        style="cursor:pointer;position:absolute;top:0;left:0;font-size:20px;color:#000000;" (click)="startTour()"
        nz-tooltip nzTooltipTitle="Tour the Page!"></i>
    <div style="display:block;">
        <div joyrideStep="step1" title="Welcome"
            text="Lets get started!  On this page you will find three sections that are intended to give you a very quick, high level understanding of your team and their training."
            style="margin-bottom:20px;display: inline-block;margin-left:20px;">
            <span style="font-weight: 200;font-size:28px;">
                Welcome,
            </span>
            &nbsp;&nbsp;
            <span style="font-weight: 400;font-size:28px;">
                {{(authenticatedUser$ | async)?.firstName}}!
            </span>
        </div>
    </div>
    <div style="width:60%;display:inline-block;">
        <div style="width:100%;display:block;padding:20px;">
            <div joyrideStep="step2" title="Your Team"
                text="This section lists all of your current team members along with the trainings that have been assigned to them.  Selecting a team member from this section takes you directly to the My Team page with that user pre-selected."
                style="font-size:22px;border-bottom:1px solid #dddddd;">
                Team Members
            </div>
            <div *ngIf="myTeam.length === 0" style="padding:40px">
                <span style="font-size: 22px;font-weight:200;" (click)="goTo('/myteam')">
                    You have not added any team members yet!<br>
                    Head over to the <span style="color:blue;cursor: pointer;">My Team</span> page.
                </span>
            </div>
            <div *ngIf="myTeam.length > 0" style="width:100%;">
                <nz-list nzItemLayout="vertical" nzSize="small" style="width:100%;">
                    <nz-list-item *ngFor="let user of myTeam" (click)="selectUser(user._id)" class="list-item"
                        style="width:100%;">
                        <div *ngIf="userStatHash[user._id]" style="width:100%;">
                            <i [ngClass]="userTypeIconHash[user.userType]"
                                style="display:inline-block;font-size:20px;width:10%;justify-content: left;"
                                [ngStyle]="{'color': trainingStatusColorHash[user.trainingStatus]}">
                            </i>
                            <div style="display:inline-block;width:fit-content;width:25%;justify-content: left;">
                                {{ user.firstName }} {{ user.lastName }}
                            </div>
                            <div style="display:inline-block;width:fit-content;width:35%;justify-content: left;">
                                <span *ngFor="let tid of userStatHash[user._id].trainingIdList "
                                    style="float:right;margin-left:10px;   " nz-tooltip
                                    [nzTooltipTitle]="teamTrainingHash[tid].title">
                                    <i [ngClass]="teamTrainingHash[tid].iconClass"
                                        style="display:inline-block;font-size:24px;vertical-align: middle;"
                                        [ngStyle]="{'color': teamTrainingHash[tid].iconColor}">
                                    </i>
                                    <nz-badge nzStatus="success"></nz-badge>
                                </span>
                                <!--
                                <div *ngIf="userStatHash[user._id].completedCnt > 0"
                                    style="display:inline-block;margin-right:20px;" nz-tooltip
                                    nzTooltipTitle="Completed Trainings">
                                    <i class="fad fa-graduation-cap"
                                        style="font-size:14px;color:blue;"></i>&nbsp;-&nbsp;{{ userStatHash[user._id].completedCnt }}
                                </div>
                                <div *ngIf="userStatHash[user._id].pastDueCnt > 0"
                                    style="display:inline-block;margin-right:20px;" nz-tooltip
                                    nzTooltipTitle="Past Due Trainings">
                                    <i class="fad fa-graduation-cap"
                                        style="font-size:14px;color:red;"></i>&nbsp;-&nbsp;{{ userStatHash[user._id].pastDueCnt }}
                                </div>
                                <div *ngIf="userStatHash[user._id].upToDateCnt > 0  "
                                    style="display:inline-block;margin-right:20px;" nz-tooltip
                                    nzTooltipTitle="Up To Date Trainings">
                                    <i class="fad fa-graduation-cap"
                                        style="font-size:14px;color:#75c040;"></i>&nbsp;-&nbsp;{{ userStatHash[user._id].upToDateCnt }}
                                </div>
                                -->
                            </div>
                        </div>
                    </nz-list-item>
                </nz-list>
            </div>
        </div>
        <div style="width:100%;display:block;padding:20px;">
            <div joyrideStep="step3" title="Your Team's Trainings"
                text="This section lists all of your trainings.  Selecting a training in this section will put you directly in the training editor."
                style="font-size:22px;border-bottom:1px solid #dddddd;">
                Trainings
            </div>
            <div *ngIf="trainings.length === 0" style="padding:40px">
                <span style="font-size: 22px;font-weight:200;" (click)="goTo('/trainings')">
                    You have not created any trainings yet!<br>
                    Head over to the <span style="color:blue;cursor: pointer;">All Trainings</span> page.
                </span>
            </div>
            <div *ngIf="trainings.length > 0">
                <nz-list nzItemLayout="vertical" nzSize="small">
                    <nz-list-item *ngFor="let training of trainings" (click)="selectTraining(training._id)"
                        class="list-item">
                        <i [ngClass]="training.iconClass"
                            style="font-size:20px;width:10%;text-align:center;vertical-align: middle;"
                            [ngStyle]="{'color': training.iconColor}">
                        </i>
                        <span style="width: 40%;">
                            {{ training.title }}
                        </span>
                    </nz-list-item>
                </nz-list>
            </div>
        </div>
    </div>
    <div style="width:40%;float:right;height:100%;border-left:1px solid #dddddd;text-align: center;">
        <div style="font-size:22px;margin-bottom:20px;" joyrideStep="step4" title="Team member training sessions"
            text="This section provides a view of your teams training sessions. The timeline provides start time and session duration. Using the date range picker you can view sessions from any date range you like.">
            Training Sessions
        </div>
        <div style="display:block;width:100%;margin-bottom:20px;">
            <nz-range-picker [(ngModel)]="dateRange" (ngModelChange)="onDateRangeChange($event)"></nz-range-picker>
        </div>
        <div style="display:block;width:100%;padding:20px;text-align:left;">
            <nz-timeline *ngIf="filteredSessionLog && filteredSessionLog.length > 0">
                <nz-timeline-item *ngFor="let session of filteredSessionLog">
                    <div style="display:block;">
                        <div style="float:left;">
                            {{myTeamIdHash[session.uid].firstName}} {{myTeamIdHash[session.uid].lastName}}
                        </div>
                        <div style="float:right;">
                            <div style="display:inline-block;margin-right:10px;">
                                <i [ngClass]="teamTrainingHash[session.tid].iconClass"
                                    style="font-size:20px;vertical-align: middle;"
                                    [ngStyle]="{'color': teamTrainingHash[session.tid].iconColor}">
                                </i>
                            </div>
                            <div style="display:inline-block;">
                                {{teamTrainingHash[session.tid].title}}
                            </div>
                        </div>
                        <div style="clear:both;"></div>
                    </div>
                    <div style="display:block;">
                        <div style="float:left;">
                            {{session.startTime| date:'medium'}}
                        </div>
                        <div style="float:right;">
                            {{timeFormat(session.stopTime - session.startTime)}} <span
                                style="font-size:12px;color:#bbbbbb;">(mm:ss)</span>
                        </div>
                        <div style="clear:both;"></div>
                    </div>
                </nz-timeline-item>
            </nz-timeline>
            <div *ngIf="filteredSessionLog && filteredSessionLog.length === 0" style="font-size: 16px;font-weight:200;">
                No sessions found!<br>
                <span style="font-size: 16px;font-weight:200;">{{startRangeTimeMS| date:'medium'}}&nbsp;&nbsp; - &nbsp;&nbsp;{{endRangeTimeMS| date:'medium'}}</span>
            </div>
        </div>
    </div>
</div>